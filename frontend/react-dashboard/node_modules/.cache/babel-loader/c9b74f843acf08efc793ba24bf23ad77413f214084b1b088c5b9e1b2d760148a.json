{"ast":null,"code":"import React from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer}from'recharts';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChargesChart=_ref=>{let{results}=_ref;if(!results||results.length===0){return null;}// Extract all charges from results\nconst allCharges=[];results.forEach(case_=>{if(case_.charges&&Array.isArray(case_.charges)){case_.charges.forEach(charge=>{if(charge&&typeof charge==='string'){allCharges.push(charge.trim());}});}});// Count charge occurrences\nconst chargeCounts={};allCharges.forEach(charge=>{chargeCounts[charge]=(chargeCounts[charge]||0)+1;});// Get top 10 charges\nconst topCharges=Object.entries(chargeCounts).sort((_ref2,_ref3)=>{let[,a]=_ref2;let[,b]=_ref3;return b-a;}).slice(0,10).map(_ref4=>{let[charge,count]=_ref4;return{charge:charge.length>30?charge.substring(0,30)+'...':charge,count,fullCharge:charge};});if(topCharges.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Top Charges\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No charges found in the results.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Top Charges Distribution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-80\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:topCharges,margin:{top:20,right:30,left:20,bottom:60},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"charge\",angle:-45,textAnchor:\"end\",height:80,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{fontSize:12}),/*#__PURE__*/_jsx(Tooltip,{content:_ref5=>{let{active,payload,label}=_ref5;if(active&&payload&&payload.length){const data=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:data.fullCharge}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary-600\",children:[\"Count: \",data.count]})]});}return null;}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#3b82f6\",radius:[4,4,0,0]})]})})})]});};export default ChargesChart;","map":{"version":3,"names":["React","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","ChargesChart","_ref","results","length","allCharges","forEach","case_","charges","Array","isArray","charge","push","trim","chargeCounts","topCharges","Object","entries","sort","_ref2","_ref3","a","b","slice","map","_ref4","count","substring","fullCharge","className","children","width","height","data","margin","top","right","left","bottom","strokeDasharray","dataKey","angle","textAnchor","fontSize","content","_ref5","active","payload","label","fill","radius"],"sources":["/Users/aliceguo/src/doj-reseach-agent/frontend/react-dashboard/src/components/ChargesChart.js"],"sourcesContent":["import React from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\n\nconst ChargesChart = ({ results }) => {\n  if (!results || results.length === 0) {\n    return null;\n  }\n\n  // Extract all charges from results\n  const allCharges = [];\n  results.forEach(case_ => {\n    if (case_.charges && Array.isArray(case_.charges)) {\n      case_.charges.forEach(charge => {\n        if (charge && typeof charge === 'string') {\n          allCharges.push(charge.trim());\n        }\n      });\n    }\n  });\n\n  // Count charge occurrences\n  const chargeCounts = {};\n  allCharges.forEach(charge => {\n    chargeCounts[charge] = (chargeCounts[charge] || 0) + 1;\n  });\n\n  // Get top 10 charges\n  const topCharges = Object.entries(chargeCounts)\n    .sort(([,a], [,b]) => b - a)\n    .slice(0, 10)\n    .map(([charge, count]) => ({\n      charge: charge.length > 30 ? charge.substring(0, 30) + '...' : charge,\n      count,\n      fullCharge: charge\n    }));\n\n  if (topCharges.length === 0) {\n    return (\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Top Charges</h3>\n        <p className=\"text-gray-600\">No charges found in the results.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Top Charges Distribution</h3>\n      <div className=\"h-80\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart data={topCharges} margin={{ top: 20, right: 30, left: 20, bottom: 60 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis \n              dataKey=\"charge\" \n              angle={-45}\n              textAnchor=\"end\"\n              height={80}\n              fontSize={12}\n            />\n            <YAxis fontSize={12} />\n            <Tooltip \n              content={({ active, payload, label }) => {\n                if (active && payload && payload.length) {\n                  const data = payload[0].payload;\n                  return (\n                    <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\n                      <p className=\"font-medium text-gray-900\">{data.fullCharge}</p>\n                      <p className=\"text-primary-600\">Count: {data.count}</p>\n                    </div>\n                  );\n                }\n                return null;\n              }}\n            />\n            <Bar dataKey=\"count\" fill=\"#3b82f6\" radius={[4, 4, 0, 0]} />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n};\n\nexport default ChargesChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}